import java.util.*;

public class kakao_2018_오픈채팅방 {
	
    public String[] solution(String[] record) {
        String instr[][] = new String[record.length][2];
        HashMap<String, String> map = new HashMap<String,String>();
        int n = 0;
    	//들어온 명령어 저장해놓기
    	for(int i=0;i<record.length;i++) {
    		String s[] = record[i].split(" ");
    		
    		if(!s[0].equals("Change")) {
	    		instr[i][0] = s[0]; //Enter, Leave, Change
	    		instr[i][1] = s[1]; //uid
	    		n++;
	    	}
    		
    		//들어온게 enter leave change면 여기서 처리해주기
    		if(s[0].equals("Enter")) {
    			if(map.containsKey(s[1]))// uid가 map에 이미 존재한다면
    				map.put(s[1],s[2]);
    			else //!!!!!!!!!!!!!아 어차피 key가 이미 있으면 알아서 value가 변경되는구나..?ㅎ
    				map.put(s[1], s[2]); //key- uid와 value-name 넣기
    		}
    		
    		else if(s[0].equals("Change")) {
    			map.put(s[1], s[2]); //uid 찾아서 name 변경
    		}
    	}
    	
    	//명령 합치기
    	String[] answer = new String[record.length]; 
        for(int i=0; i<n; i++) {
        	if(instr[i][0].equals("Enter")) {
        		String a = (String)(map.get(instr[i][1]));
        		System.out.println("\"" +  a + "님이 들어왔습니다." + "\"");
        	}
        	
        	else if(instr[i][0].equals("Leave")) {
        		String a = (String)(map.get(instr[i][1]));
        		System.out.println("\"" +  a + "님이 나갔습니다." + "\"");
        	}
        }
    	
    	return answer;
    }
	
	public static void main(String[] args) {
		
	}
}
